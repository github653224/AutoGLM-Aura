[English Version](README.md)

# AutoGLM-Aura

[![License](https://img.shields.io/badge/License-Apache%202.0-blue.svg)](https://opensource.org/licenses/Apache-2.0)
[![Android](https://img.shields.io/badge/Platform-Android%207.0%2B-green.svg)](https://developer.android.com)
[![Kotlin](https://img.shields.io/badge/Kotlin-1.9-purple.svg)](https://kotlinlang.org)
[![Shizuku](https://img.shields.io/badge/Shizuku-Powered-orange.svg)](https://shizuku.rikka.app/)

<div align="center">

**Open-AutoGLM çš„ Android åŸç”Ÿå®¢æˆ·ç«¯**

è®© AI æ™ºèƒ½åŠ©ç†ç›´æ¥åœ¨æ‰‹æœºä¸Šè¿è¡Œ,æ— éœ€ç”µè„‘è¾…åŠ©

> æœ¬é¡¹ç›®ä¸ºç¤¾åŒºä¸ªäººç‹¬ç«‹å®ç°

</div>

## ç®€ä»‹

AutoGLM-Aura æ˜¯ [Open-AutoGLM](https://github.com/zai-org/Open-AutoGLM) é¡¹ç›®çš„ Android åŸç”Ÿå®ç°ã€‚ä¸åŸé¡¹ç›®é€šè¿‡ PC ç«¯ ADB æ§åˆ¶æ‰‹æœºä¸åŒï¼ŒAutoGLM-Aura æ˜¯ä¸€ä¸ªå®Œå…¨ç‹¬ç«‹è¿è¡Œåœ¨è®¾å¤‡ä¸Šçš„ Android åº”ç”¨ç¨‹åºã€‚

**æ ¸å¿ƒç‰¹æ€§:**
- ğŸ¤– **åŸç”Ÿ Android åº”ç”¨** - ç›´æ¥åœ¨æ‰‹æœºè¿è¡Œï¼Œæ— éœ€ PCã€‚
- ğŸ¤ **è¯­éŸ³æ§åˆ¶** - æ”¯æŒè¯­éŸ³æŒ‡ä»¤å‘å¸ƒä»»åŠ¡ã€‚
- ğŸ“± **è‡ªåŠ¨åŒ–æ“ä½œ** - é€šè¿‡æ— éšœç¢æœåŠ¡ï¼ˆAccessibility Serviceï¼‰æ§åˆ¶åº”ç”¨ã€‚
- ğŸš€ **é«˜çº§æ¨¡å¼ (Shizuku)** - åŸºäº Binder æ¡¥æ¥çš„ç³»ç»Ÿçº§æ§åˆ¶ï¼Œå“åº”æ›´å¿«ï¼Œæƒé™æ›´é«˜ã€‚
- ğŸ“º **åå°éš”ç¦»è¿è¡Œ** - æ”¯æŒé€šè¿‡è™šæ‹Ÿå±å¹•åœ¨åå°æ‰§è¡Œä»»åŠ¡ï¼Œä¸»å±æ“ä½œä¸å—å¹²æ‰°ã€‚
- ğŸ§  **åŒæ¨¡å‹æ‰§è¡Œæ¨¡å¼**:
    - **æé€Ÿæ¨¡å¼ (Turbo)**: å•æ¨¡å‹å¿«é€Ÿå“åº”ï¼Œé€‚åˆç®€å•ç›´æ¥çš„ä»»åŠ¡ã€‚
    - **æ€è€ƒæ¨¡å¼ (Deep)**: å¤§æ¨¡å‹è§„åˆ’ + å°æ¨¡å‹æ‰§è¡Œï¼ŒåŒæ¨¡å‹åä½œæ”»å…‹å¤æ‚ä»»åŠ¡ã€‚
- ğŸ”’ **å®‰å…¨å­˜å‚¨** - API é…ç½®ç»è¿‡åŠ å¯†å¤„ç†ã€‚
- ğŸŒ **è‡ªå®šä¹‰ API** - æ”¯æŒè‡ªæ‰˜ç®¡æˆ–ç¬¬ä¸‰æ–¹ AI æœåŠ¡ã€‚
- âœ¨ **ç›´æ¥æ³¨å…¥** - é€šè¿‡åŸç”Ÿæ— éšœç¢æœåŠ¡æ³¨å…¥æ–‡æœ¬ï¼Œæ— éœ€åˆ‡æ¢è¾“å…¥æ³•ã€‚

### ğŸ§  æé€Ÿ vs æ€è€ƒæ¨¡å¼å¯¹æ¯”

| ç‰¹æ€§ | âš¡ æé€Ÿæ¨¡å¼ (Turbo)          | ğŸ§  æ€è€ƒæ¨¡å¼ (Deep)                      |
|---|-------------------------|-------------------------------------|
| **æ¨¡å‹** | å•ä¸€æ¨¡å‹                    | å¤§æ¨¡å‹ + å°æ¨¡å‹ (åŒæ¨¡å‹åä½œ)                   |
| **é€Ÿåº¦** | æå¿«            | æ·±æ€ç†Ÿè™‘                      |
| **è§„åˆ’** | éšå¼æ¨æ–­                    | æ˜¾å¼åˆ†æ­¥è®¡åˆ’                              |
| **é€‚ç”¨åœºæ™¯** | ç®€å•ä»»åŠ¡ (å¦‚ "ç¾å›¢ç‚¹ä¸€æ¯30å…ƒä»¥ä¸‹çš„æ‹¿é“") | å¤æ‚å¤šæ­¥ä»»åŠ¡ (å¦‚ "ç¾å›¾é¥¿äº†ä¹ˆç‚¹ä¸€æ¯æ‹¿é“å¯¹æ¯”ä»·æ ¼æ‰¾åˆ°æ€§ä»·æ¯”çš„è´­ä¹°") |
| **å®¡æŸ¥æœºåˆ¶** | æ—                        | æ¯3æ­¥å¼‚æ­¥å®¡æŸ¥                             |
| **è¶…æ—¶å®¹é”™** | ä¸é€‚ç”¨                     | è¶…æ—¶åè‹¥å°æ¨¡å‹å·²å®Œæˆåˆ™è‡ªåŠ¨æ¨è¿›                     |

### ğŸ›ï¸ ç³»ç»Ÿæ¶æ„

```mermaid
flowchart LR
    subgraph ç”¨æˆ·ç•Œé¢
        A[ğŸ¤ è¯­éŸ³ / æ–‡æœ¬è¾“å…¥]
    end

    subgraph æ™ºèƒ½æ ¸å¿ƒ
        B[Sherpa-ONNX è¯­éŸ³è¯†åˆ«] --> C[AgentRepository]
        C --> D{æ¨¡å¼é€‰æ‹©}
        D -->|æé€Ÿ| E[å•æ¨¡å‹æ‰§è¡Œå¾ªç¯]
        D -->|æ€è€ƒ| F[DualModelAgent]
        F --> G[Orchestrator - è§„åˆ’ä¸å®¡æŸ¥]
        F --> H[VisionWorker - è§†è§‰æ‰§è¡Œ]
    end

    subgraph AI åç«¯
        E --> I[å¤§æ¨¡å‹ API]
        G --> I
        H --> J[è§†è§‰æ¨¡å‹ API]
    end

    subgraph æ‰§è¡Œå±‚
        I --> K[FallbackActionExecutor]
        J --> K
        K --> L{Shizuku å¯ç”¨?}
        L -->|æ˜¯| M[Shizuku æœåŠ¡ - Binder æ³¨å…¥]
        L -->|å¦| N[æ— éšœç¢æœåŠ¡]
        M --> O[ğŸ“± Android UI]
        N --> O
    end
```

## æ¼”ç¤º

<div align="center">
  <img src="assets/screenshots/home.png" width="30%" alt="ä¸»é¡µ"/>
  <img src="assets/screenshots/history.png" width="30%" alt="æŒ‡ä»¤å†å²"/>
  <img src="assets/screenshots/settings.png" width="30%" alt="è®¾ç½®"/>
</div>

ç®€å•å‡ æ­¥:
1. å¼€å¯æ— éšœç¢æœåŠ¡ã€‚
2. é…ç½®æ‚¨çš„ AI æ¨¡å‹ API åœ°å€ã€‚
3. é€šè¿‡è¯­éŸ³æˆ–æ–‡æœ¬è¾“å…¥ä»»åŠ¡ (ä¾‹å¦‚: "æ‰“å¼€æŠ–éŸ³æœç´¢èˆè¹ˆè§†é¢‘")ã€‚
4. AI å°†è‡ªåŠ¨å®Œæˆæ•´ä¸ªæ“ä½œæµç¨‹ã€‚

## æŠ€æœ¯æ ˆ

### æ¶æ„
- **UI**: Jetpack Compose + Material 3
- **æ¶æ„**: MVVM + Repository Pattern
- **ä¾èµ–æ³¨å…¥**: Hilt (Dagger)
- **ç½‘ç»œ**: Retrofit + OkHttp
- **å­˜å‚¨**: EncryptedSharedPreferences
- **è¯­éŸ³**: Sherpa-ONNX (ç¦»çº¿é«˜ç²¾åº¦è¯†åˆ«)
    - æ¨¡å‹: Paraformer 2024-03-09
    - å‡†ç¡®ç‡ > 90%
- **Kotlin**: 1.9.x
- **Min SDK**: 26 (Android 7.0+)
- **Target SDK**: 34

### æ ¸å¿ƒç»„ä»¶

#### 1. AutoAgentService (æ— éšœç¢ä¸ Shizuku)
ä½ç½®: `app/src/main/java/com/autoglm/autoagent/service/AutoAgentService.kt`
ä½ç½®: `app/src/main/java/com/autoglm/autoagent/shell/AutoGLM-AuraUserService.kt`

è‡ªåŠ¨åŒ–çš„æ ¸å¿ƒæœåŠ¡:
- **æ— éšœç¢æœåŠ¡**: ç”¨äº UI æ ‘åˆ†æå’ŒåŸºç¡€æ‰‹åŠ¿ã€‚
- **é«˜çº§ Shizuku æœåŠ¡**: åŸºäº Binder æ¡¥æ¥çš„ç³»ç»Ÿçº§äº¤äº’ï¼Œæ”¯æŒé«˜é¢‘ç‚¹å‡»æ³¨å…¥å’Œè™šæ‹Ÿå±å¹•ç®¡ç†ã€‚
- **åå°éš”ç¦»**: é€šè¿‡åˆ›å»ºè™šæ‹Ÿå±å¹•ï¼Œæ”¯æŒåœ¨ä¸å ç”¨ç”¨æˆ·ä¸»å±å¹•çš„æƒ…å†µä¸‹æ‰§è¡Œä»»åŠ¡ã€‚

```kotlin
// ä¸»è¦å‡½æ•°
- click(x, y)          // ç‚¹å‡»
- longPress(x, y)      // é•¿æŒ‰
- scroll(x1, y1, x2, y2) // æ»‘åŠ¨
- takeScreenshotAsync() // æˆªå›¾
```

#### 2. AIClient (AI é€šä¿¡)
ä½ç½®: `app/src/main/java/com/autoglm/autoagent/data/api/AIClient.kt`

ä¸ AI æ¨¡å‹æœåŠ¡é€šä¿¡:
- å…¼å®¹ OpenAI Chat Completions API æ ¼å¼ã€‚
- éœ€æ”¯æŒå¤šæ¨¡æ€è¾“å…¥ (æ–‡æœ¬ + å›¾ç‰‡)ã€‚
- å¯é…ç½® Base URL, API Key, æ¨¡å‹ã€‚

```kotlin
// API å‚æ•°
temperature: 0.0        // ä¸¥æ ¼æ¨¡å¼
top_p: 0.85
frequency_penalty: 0.2
max_tokens: 3000
```

#### 3. Agent è°ƒåº¦ (æé€Ÿä¸æ€è€ƒæ¨¡å¼)
ä½ç½®: `app/src/main/java/com/autoglm/autoagent/data/AgentRepository.kt`
ä½ç½®: `app/src/main/java/com/autoglm/autoagent/agent/DualModelAgent.kt`

åè°ƒä»»åŠ¡æ‰§è¡Œæµç¨‹:
- **æé€Ÿæ¨¡å¼ (Turbo)**: å•æ¨¡å‹å¿«é€Ÿæ‰§è¡Œå¾ªç¯ï¼ˆæˆªå›¾ â†’ AI â†’ æ‰§è¡Œï¼‰ã€‚
- **æ€è€ƒæ¨¡å¼ (Deep)**: åŒæ¨¡å‹è°ƒåº¦æ¶æ„ï¼Œâ€œå¤§æ¨¡å‹â€è´Ÿè´£é€»è¾‘è§„åˆ’ä¸å®¡æŸ¥ï¼Œâ€œå°æ¨¡å‹â€è´Ÿè´£å…·ä½“æ­¥éª¤æ‰§è¡Œã€‚
- **è™šæ‹ŸåŒ–ç®¡ç†**: è‡ªåŠ¨ç®¡ç†è™šæ‹Ÿå±å¹•çš„ç”Ÿå‘½å‘¨æœŸåŠåå°ä»»åŠ¡ä¿æ´»ã€‚

## å¿«é€Ÿå¼€å§‹

### 1. å®‰è£…
ä¸‹è½½å¹¶å®‰è£…æœ€æ–° Release ç‰ˆæœ¬ (`.apk`)ï¼Œä½“ç§¯çº¦ 100 MBã€‚

### 2. æƒé™æˆäºˆ
1. **æ— éšœç¢æœåŠ¡**
   - æ‰“å¼€ AutoGLM-Auraï¼Œç‚¹å‡» "å¼€å¯æ— éšœç¢æœåŠ¡"ã€‚
   - åœ¨ç³»ç»Ÿè®¾ç½®ä¸­æ‰¾åˆ°å¹¶å¼€å¯ "AutoAgent Service"ã€‚
2. **å…¶ä»–æƒé™**
   - éº¦å…‹é£ (è¯­éŸ³è¾“å…¥)
   - ç½‘ç»œ (AI é€šä¿¡)

### 3. API é…ç½®
è¿›å…¥è®¾ç½®é¡µé¢é…ç½®æ‚¨çš„æ¨¡å‹ API ä¿¡æ¯ã€‚

**ç¤ºä¾‹ (æ™ºè°± AI):**
- Base URL: `https://open.bigmodel.cn/api/paas/v4`
- æ¨¡å‹: `GLM-4.6V-Flash`
- API Key: `æ‚¨çš„ API Key`

## é™åˆ¶

1. **å®‰å…¨åº”ç”¨é™åˆ¶**
   - é“¶è¡Œã€æ”¯ä»˜ç±»åº”ç”¨è‹¥è®¾ç½®äº† `FLAG_SECURE`ï¼Œå³ä¾¿åœ¨è™šæ‹Ÿå±å¹•ä¸­ä»å¯èƒ½æ•è·åˆ°é»‘å±ã€‚
2. **ç¡¬ä»¶æ€§èƒ½éœ€æ±‚**
   - è¿è¡Œåå°è™šæ‹Ÿå±å¹•ç»“åˆ AI æ¨ç†å¯¹å†…å­˜æœ‰ä¸€å®šè¦æ±‚ï¼Œå»ºè®® 8GB RAM ä»¥ä¸Šæœºå‹ã€‚
3. **ç³»ç»Ÿç‰ˆæœ¬å·®å¼‚**
   - è™½ç„¶æ”¯æŒ Android 7.0+ï¼Œä½†åœ¨ Android 11+ ä¸Šè™šæ‹Ÿå±å¹•çš„ç¨³å®šæ€§ä¸è¾“å…¥æ³¨å…¥é€Ÿåº¦æœ€ä½³ã€‚

## âš ï¸ å…¼å®¹æ€§è¯´æ˜

ä¸ªäººå¼€å‘ï¼Œè®¾å¤‡å’Œæ—¶é—´æœ‰é™ï¼Œç›®å‰ä»…åœ¨ä»¥ä¸‹ç¯å¢ƒè¿›è¡Œäº†æµ‹è¯•ï¼š
- **Xiaomi (å°ç±³)**: Android 14 (HyperOS)
- **Google Pixel**: Android 16 (Preview)

**å¦‚æœ‰ Bug è¯·æäº¤ [GitHub Issues](https://github.com/aellnxin/AutoGLM-Aura/issues) æˆ–å‘é€é‚®ä»¶è‡³ [aellnxin@gmail.com](mailto:aellnxin@gmail.com)**

## è·¯çº¿å›¾

- [x] **ç¦»çº¿è¯­éŸ³è¯†åˆ«** - å‡çº§ä¸º Sherpa-ONNX (ç¦»çº¿)
- [x] **é«˜çº§æ¨¡å¼** - é›†æˆ Shizuku ä¸è™šæ‹Ÿå±å¹•åå°æ‰§è¡Œ
- [x] **åŒæ¨¡å‹æ¶æ„** - æ”¯æŒæé€Ÿ (Turbo) ä¸æ€è€ƒ (Deep) åŒæ¨¡å¼
- [x] **è™šæ‹Ÿå±å¹•** - æ”¯æŒé€šè¿‡è™šæ‹Ÿå±å¹•åœ¨åå°æ‰§è¡Œä»»åŠ¡ï¼Œä¸»å±æ“ä½œä¸å—å¹²æ‰°
- [x] **ä»»åŠ¡å†å²è®°å½•** - ä¿ç•™æœ€è¿‘3æ¬¡ä»»åŠ¡è¯¦æƒ… 
- [ ] è‡ªå®šä¹‰å¿«æ·æŒ‡ä»¤
- [x] **UI ä¼˜åŒ–ä¸åŠ¨ç”»**
- [x] **æ€§èƒ½ä¸ç¨³å®šæ€§ä¼˜åŒ–** (åŸºäº Shizuku Binder æ¡¥æ¥)
- [ ] å¤šè¯­è¨€æ”¯æŒ (åº”ç”¨å†…)
- [ ] å¢åŠ è™šæ‹Ÿå±å¹•çš„æµ®çª—
- [ ] è¯­éŸ³å”¤é†’

## ç¬¬ä¸‰æ–¹ç»„ä»¶ä¸å‚è€ƒé¡¹ç›®

æœ¬é¡¹ç›®ä½¿ç”¨äº†ä»¥ä¸‹å¼€æºç»„ä»¶æˆ–å‚è€ƒäº†ç›¸å…³è®¾è®¡:

- **Open-AutoGLM** (Apache License 2.0) - è‡ªåŠ¨åŒ– Agent è®¾è®¡ä¸åè®®å‚è€ƒ
- **Sherpa-ONNX** (Apache 2.0) - ç¦»çº¿è¯­éŸ³è¯†åˆ«å¼•æ“
- **Paraformer æ¨¡å‹** (Apache 2.0) - ä¸­æ–‡è¯­éŸ³è¯†åˆ«æ¨¡å‹
- **AutoGLM-Phone-9B family** (See original model license) - é€šè¿‡ API ä½¿ç”¨çš„å¤§è¯­è¨€æ¨¡å‹
- **Shizuku** (Apache 2.0) - ç³»ç»Ÿçº§adbæœåŠ¡

è¯¦è§ [ç¬¬ä¸‰æ–¹ç»„ä»¶è®¸å¯](./THIRD_PARTY_LICENSES.md)

## å…è´£å£°æ˜

âš ï¸ **å…è´£å£°æ˜**: æœ¬é¡¹ç›®ä»…ä¾›ç ”ç©¶å’Œå­¦ä¹ ä½¿ç”¨,ä¸¥ç¦ç”¨äºä»»ä½•éæ³•ç”¨é€”ã€‚

---

**å¼€å‘è€…**: Aell Xin
**é‚®ç®±**: aellnxin@gmail.com
**æœ€åæ›´æ–°**: 2026-01-07
